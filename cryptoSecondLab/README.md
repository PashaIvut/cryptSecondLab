## Установка

1. Установите зависимости:
```bash
npm install
```

2. Убедитесь, что у вас установлен Node.js версии 16 или выше.

## Использование

### Основные команды

```bash
# Встраивание сообщения в изображение
node src/main.ts --mode embed --in image.png --message "Секретное сообщение" --payload 0.5

# Извлечение сообщения из изображения
node src/main.ts --mode extract --in stego.png

# Анализ метрик
node src/main.ts --mode analyze --cover image.png --stego stego.png --output-dir results
```

### Параметры командной строки
- `--mode <mode>` - Режим работы: `embed`, `extract`, `analyze`
- `--in <file>` - Входной файл изображения
- `--out <file>` - Выходной файл (опционально)
- `--message <text>` - Текст для встраивания
- `--payload <number>` - Payload 
- `--cover <file>` - Исходное изображение для анализа
- `--stego <file>` - Стего-изображение для анализа
- `--output-dir <dir>` - Директория для сохранения результатов (по умолчанию ./results)

### Примеры

```bash
# Извлечение
node src/main.ts --mode extract --in gradient_stego.png

# Полный анализ
node src/main.ts --mode analyze --cover img/gradient.png --stego gradient_stego.png --output-dir results
```

## Метрики
- **PSNR** - отношение пикового сигнала к шуму
- **SSIM** - структурное сходство изображений
- **Энтропия** - мера случайности распределения
- **Корреляция** - связь между соседними пикселями
- **NPCR/UACI** - метрики чувствительности к изменениям
- **χ²-тест** - детекция стеганографии

## Гистограммы
Гистограммы показывают распределение интенсивности пикселей в изображении по каналу RGB. Вот что они означают:

**Гистограмма исходного изображения**
- Ось X (горизонтальная): значения интенсивности от 0 до 255
- Ось Y (вертикальная): количество пикселей с данной интенсивностью
- Красные столбцы: показывают, сколько пикселей имеет каждое значение интенсивности

**Примеры для разных изображений:**
- `gradient.png`: плавное распределение по всем значениям (градиент)
- `checkerboard.png`: три пика для четырех цветов (на гистограмме одного канала может быть меньше пиков, чем цветов, если у разных цветов совпадают или близки значения в этом канале)
- `bird.png`: неравномерное распределение с пиками в определенных диапазонах
- `noise_texture.png`: распределение в виде горы (подъем, пик, спуск) - характерно для цветной палитры

